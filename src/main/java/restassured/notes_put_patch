PUT vs PATCH (Simple & Practical)
âœ… PUT

Replaces the entire resource.
You send the full object, even if you want to update only one field.
If fields are missing in the payload â†’ they are usually overwritten or removed.

PUT is idempotent.
Example

Resource (User):
{
  "name": "Sumit",
  "email": "a@a.com",
  "age": 25
}


PUT payload:
{
  "name": "Sumit Sagar"
}


Server may update user to:
{
  "name": "Sumit Sagar",
  "email": null,
  "age": null
}


Because you replaced the entire document.
When to use:

âœ” Full update
âœ” Replace existing resource
âœ” Create resource if server supports PUT as upsert

ğŸŸ¦ PATCH

Partial update.
You send only the fields you want to modify.
Server updates only those fields.
PATCH is not guaranteed to be idempotent (depends on implementation).

Example
PATCH payload:
{
  "age": 26
}

Server updates only age, leaving others untouched.
When to use:

âœ” Update a single field
âœ” Update few fields
âœ” JSON Patch or JSON Merge Patch operations

ğŸŸ© Idempotency â€” What It Means
âœ¨ Idempotent = repeated calls have the same effect as one call
More clearly:

If you call the same API 1 time, or 10 times, the system result remains the same.

ğŸŸ© Which HTTP methods are idempotent?
Method	Idempotent?	Why
GET	âœ”ï¸ Yes	same fetch always same effect
PUT	âœ”ï¸ Yes	replacing resource with same body repeatedly â†’ same result
DELETE	âœ”ï¸ Yes	deleting same resource repeatedly â†’ after 1st time, nothing changes
HEAD	âœ”ï¸ Yes	metadata only
OPTIONS	âœ”ï¸ Yes	metadata only
PATCH	âŒ Not guaranteed	repeated patch may keep changing values
POST	âŒ No	creates new resources every time
ğŸŸ¦ Example to Understand Idempotency
GET (idempotent)

Calling GET 100 times does NOT change the resource.

PUT (idempotent)
PUT /user/10 with payload:
{
  "name": "Sumit",
  "age": 26
}

Call it 1 time â†’ user updated
Call it 10 times â†’ still the same user data

â¡ No side effects â†’ idempotent

PATCH (not idempotent)

PATCH /balance/add with:

{ "amount": 100 }

Call PATCH 1 time â†’ +100
Call PATCH 10 times â†’ +1000

â¡ Resource changes every time â†’ not idempotent
POST (not idempotent)
POST /users with:
{
  "name": "Sumit"
}


Calling 10 times creates 10 users.
â¡ Not idempotent

ğŸŸ¦ DELETE (idempotent but not safe)

1st call â†’ deletes resource
2nd call â†’ resource already deleted (no change)
3rd call â†’ still nothing changes

â¡ This is why DELETE is idempotent.

ğŸ§ª Idempotency in API Testing (RestAssured)

âœ”ï¸ Idempotent call test:

given().body(user)
.put("/user/10")
.then().statusCode(200);

given().body(user)
.put("/user/10")
.then().statusCode(200);


Both calls should produce same final state.

ğŸŸ¦ Quick Interview Summary

PUT

Full update / replace

Idempotent

Requires full body

PATCH

Partial update

Not always idempotent

Only send changed fields

Idempotent

Multiple identical calls â†’ same result

GET, PUT, DELETE = idempotent

POST, PATCH = not idempotent